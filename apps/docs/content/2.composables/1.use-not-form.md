---
title: useNotForm
description: The main composable for initializing and managing form state and validation.
navigation:
  icon: i-tabler-code
---

`useNotForm`{lang="ts-type"} is the heart of :name-text. It initializes the form instance with validation logic, reactive state, and lifecycle methods.

## Usage

```ts [form.vue]
<script lang="ts" setup>
import { useNotForm } from 'notform'
import { z } from 'zod'

const { state, id, submit } = useNotForm({
  schema: z.object({
    name: z.string().min(2)
  }),
  onSubmit: async (data) => {
    console.log(data)
  }
})
</script>
```

## Options

The `useNotForm`{lang="ts-type"} composable accepts a configuration object as its first argument.

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `id` | `string`{lang="ts-type"} | `useId()`{lang="ts-type"} | Unique form identifier. |
| `schema` | `MaybeRefOrGetter<TSchema>`{lang="ts-type"} | **Required** | The validation schema (Zod, Valibot, etc.). |
| `initialState` | `DeepPartial<Input>`{lang="ts-type"} | `{}`{lang="ts-type"} | Initial values for the form fields. |
| `initialErrors` | `Issue[]`{lang="ts-type"} | `[]`{lang="ts-type"} | Initial validation issues to display. |
| `mode` | `'lazy' \| 'eager'`{lang="ts-type"} | `'eager'`{lang="ts-type"} | Validation behavioral strategy. |
| `validateOn` | `ValidationTriggers[]`{lang="ts-type"} | `['blur', 'input', 'change']`{lang="ts-type"} | Events that trigger field validation. |
| `onValidate` | `(data: StandardSchemaV1.InferOutput<TSchema>) => boolean \| void \| StandardSchemaV1.Issue[] \| Promise<boolean \| void \| StandardSchemaV1.Issue[]>`{lang="ts-type"} | - | Custom validation logic that runs after schema validation |
| `onReset` | `() => void`{lang="ts-type"} | - | Callback triggered when the form is reset. |
| `onError` | `(errors: StandardSchemaV1.Issue[]) => void`{lang="ts-type"} | - | Callback triggered when validation fails. |
| `onSubmit` | `(data: StandardSchemaV1.InferOutput<TSchema>) => void \| Promise<void>`{lang="ts-type"} | - | Callback triggered when validation passes and the form is submitted. |

## Returns

`useNotForm`{lang="ts-type"} returns a form context object containing reactive state and methods.

### State

| Property | Type | Description |
| --- | --- | --- |
| `state` | `Ref<Input>`{lang="ts-type"} | Deeply reactive object of field values. |
| `errors` | `Ref<Issue[]>`{lang="ts-type"} | Reactive array of active validation issues. |
| `isValidating` | `Ref<boolean>`{lang="ts-type"} | Reactive status of the async validation process. |
| `touchedFields` | `Ref<Set<string>>`{lang="ts-type"} | Reactive set of touched field paths. |
| `dirtyFields` | `Ref<Set<string>>`{lang="ts-type"} | Reactive set of dirty field paths. |
| `isValid` | `ComputedRef<boolean>`{lang="ts-type"} | Whether the entire form is valid. |
| `isTouched` | `ComputedRef<boolean>`{lang="ts-type"} | Whether any field has been interacted with. |
| `isDirty` | `ComputedRef<boolean>`{lang="ts-type"} | Whether any field has been modified. |

### Methods

#### `submit(event: Event)`{lang="ts-type"}
Validates the entire form and then triggers the `onSubmit`{lang="ts-type"} callback if successful. Marks all fields as touched and dirty.

#### `validate()`{lang="ts-type"}
Manually triggers form-wide validation. Returns a promise with the validation result.

#### `validateField(path: string)`{lang="ts-type"}
Manually triggers validation for a specific field path.

#### `reset(state?, errors?, validate?)`{lang="ts-type"}
Reverts form state and errors to their initial baseline or custom values.
- `state`{lang="ts-type"}: Optional partial state to reset to.
- `errors`{lang="ts-type"}: Optional issues list to reset to.
- `validate`{lang="ts-type"}: Whether to re-validate after reset (default: `false`{lang="ts-type"}).

#### `setState(state, validate?)`{lang="ts-type"}
Updates the form state with the provided partial object.
- `validate`{lang="ts-type"}: Whether to re-validate after update (default: `true{lang="ts-type"}`).

#### `setErrors(errors)`{lang="ts-type"}
Directly sets the form errors.

#### `clearErrors()`{lang="ts-type"}
Removes all active validation messages.

#### `getFieldErrors(field: string)`{lang="ts-type"}
Returns the list of validation issues for a specific field path.

#### `touchField(field: string)`{lang="ts-type"}
Marks a specific field as touched.

#### `touchAllFields()`{lang="ts-type"}
Marks all fields in the form as touched.

#### `dirtyField(field: string)`{lang="ts-type"}
Marks a specific field as dirty.

#### `dirtyAllFields()`{lang="ts-type"}
Marks all fields in the form as dirty.
